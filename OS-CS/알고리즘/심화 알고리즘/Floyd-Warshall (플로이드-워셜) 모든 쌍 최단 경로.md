#### 목표: 그래프 내 모든 노드 쌍 사이의 최단 경로 찾기
Floyd-Warshall은 그래프에 있는 모든 노드 A에서 모든 노드 B까지의 최단 경로를 한 번에 계산함.

#### 핵심 원리: 동적 계획법 (Dynamic Programming)
Floyd-Warshall은 DP의 '중복되는 부분 문제' 원리를 완벽하게 활용함.
1. 정의: 최단 경로를 중간 경유지(intermediate Node)를 사용하여 정의함.
	- $D[i][j]$는 $i$에서 $j$로 가는 최단 거리임.
2. 갱신 (Iteration): $k$라는 노드를 중간 경유지로 사용할지 말지를 모든 $k$에 대해 순차적으로 결정함.
	- 현재 $i$에서 $j$로 가는 최단 경로 $D[i][j]$와, $i  \rightarrow k \rightarrow j$ 로 가는 경로 $D[k][j]$를 비교함.
$$\text{New} D[i][j] = \text{min}(D[i][j], D[i][k] + D[k][j])$$
3. DP의 활용: $k = 1$일 때 최단 거리를 계산하고, $k = 2$일 때는 $k = 1$까지 계산된 결과를 이용하여 갱신함. 즉, 이전 단계의 최적 해(부분 문제)를 이용하여 다음 단계의 최적 해를 구축함.
- 복잡도: 3중 반복문(for $k$, for $i$, for $j$)을 사용하므로 복잡도는 **항상 $O(N^3)$** 임. (N은 노드의 수)
- 장점: 구현이 매우 간단하고, 음수 가중치 간선도 처리할 수 있음. (다만, 음수 사이클은 탐지하여 무한 루프를 방지해야 함.)
- 응용: 교통 분석, 네트워크 라우팅에서 모든 노드 간의 거리 행렬을 계산할 때 사용됨.

# 구현 전략
#### 목표: 그래프 내 모든 노드 쌍 $(i, j)$ 간의 최단 경로를 한 번의 실행으로 모두 계산

#### 1. 핵심 자료구조 및 초기화 논리
- 핵심 자료구조: 2차원 배열 (Distance Matrix, 거리 행렬) $D[N][N]$
	- $N$은 그래프의 노드 수임.
	- $D[i][j]$는 현재까지 발견된 노드 $i$에서 노드 $j$로 가는 최단 거리를 저장함.
- 초기화 논리:
	1. 직접 연결: 초기 $D[i][j]$ 값은 그래프의 간선(Edge) 가중치로 설정함.
	2. 자기 자신: $D[i][i]$는 거리가 0이므로 0으로 설정.
	3. 미연결: 직접 연결된 간선이 없는 경우, 거리를 **무한대($\infty$ 또는 매우 큰 숫자)** 로 초기화함. (아직 경로를 찾지 못했음을 의미)

#### 2. 동적 계획법 (DP)의 핵심: 중간 경유지 $k$
Floyd-Warshall의 논리는 $k$라는 노드를 '경유지'로 사용할지 말지를 순차적으로 결정하는 것.
- DP 상태 정의: $D^{(k)}[i][j]$는 **"노드 1부터  노드 $k$까지만을 경유지로 사용했을 때"** 의 $i$에서 $j$로 가는 최단 경로를 의미함.
- 반복문 순서의 중요성:
	- 가장 바깥쪽 반복문은 **경유지 노드 $k$** 를 1부터 $N$까지 순회함.
	- 안쪽의 두 반복문은 **출발 노드 $i$** 와 **도착 노드 $j$** 를 1부터 $N$까지 순회함.

#### 3. DP 점화식 및 갱신 논리
경유지 $k$가 결정되었을 때, 모든 $i$에서 $j$로 가는 경로를 다음과 같이 갱신함.
- 갱신 논리: $i$에서 $j$로 가는 최단 경로는 두 가지 경우 중 하나임.
	1. $k$를 경유하지 않는 경우: $D[i][j]$ (기존의 최단 거리)
	2. $k$를 경유하는 경우: $D[i][k] + D[k][j]$ ($i$에서 $k$까지의 최단 거리 + $k$에서 $j$까지의 최단 거리)
- 점화식:
$$\text{New} D[i][j] = \text{min}(\text{Old} D[i][j], D[i][k] + D[k][j])$$
- DP의 특성: 경유지 $k$를 계산할 때, $D[i][k]$와 $D[k][j]$ 값은 이미 $k - 1$까지의 경유지를 사용하여 최적화된 최단 경로임. 이전에 계산된 최적의 부분 해답을 이용하여 현재의 큰 문제(경유지 $k$를 포함한 최단 경로)를 해결하는 것이 DP의 핵심.

#### 4. 음수 가중치 및 사이클 탐지 논리
- 음수 가중치 처리: Floyd-Warshall은 음수 가중치 간선을 포함한 그래프에서도 최단 경로를 정확하게 찾을 수 있음. (다익스트라의 한계를 보완)
- 음수 사이클 탐지:
	- 모든 반복이 완료된 후, 만약 어떤 노드 $i$에 대해 $D[i][i]$의 값이 음수라면, 이는 **음수 사이클(Negative Cycle)** 이 존재함을 의미함.
	- 음수 사이클이 있으면 경로 비용이 무한히 작아질 수 있으므로, 최단 경로는 의미가 없어짐. Floyd-Warshall은 이 상태를 $D[i][i] < 0$ 으로 탐지함.
- 복잡되 $k, i, j$ 세 개의 독립적인 반복문이 노드 수 $N$만큼 순회하므로, 복잡도는 **항상 O(N^3)** 임. 노드 수가 많지 않은 그래프(보통 수백 개 이하)에서 모든 쌍의 최단 거리를 구하는 데 효과적임.
