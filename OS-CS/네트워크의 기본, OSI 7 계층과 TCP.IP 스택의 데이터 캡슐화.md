UART/SPI는 물리적인 통신 선만 제공. 하지만 네트워크 통신은 지구 반대편까지 데이터를 안정적으로 보내야 함. 이를 위해 데이터는 여러 단계를 거쳐 **포장(캡슐화, Encapsulation)** 되고 전송됨.

# OSI 7 계층 모델 (The Framework)
OSI 모델은 네트워크 통신을 7개의 논리적 계층으로 나눈 국제 표준 모델. 각 계층은 독립적인 역할을 수행하며, 바로 인접한 계층하고만 소통함.

| 계층 번호 | 이름                    | 역할 (데이터 포장 명칭)         | 임베디드 연결고리                |
| ----- | --------------------- | ---------------------- | ------------------------ |
| 7     | 응용 계층 (Application)   | 사용자 프로그램 (HTTP, FTP 등) | 최종 사용자 인터페이스             |
| 6     | 표현 계층 (Presentation)  | 데이터 형식 결정 (암호화/인코딩)    | SSL/TLS 암복호화 처리          |
| 5     | 세션 계층 (Session)       | 통신 연결/해제 및 유지          | 세션 관리 라이브러리              |
| 4     | 전송 계층 (Transport)     | 신뢰성 보장 (세그먼트 Segment)  | TCP/UDP 프로토콜 스택 구현       |
| 3     | 네트워크 계층 (Network)     | 경로 설정 및 주소 (패킷 Packet) | IP 주소, 라우팅 테이블           |
| 2     | 데이터 링크 계층 (Data Link) | 인접 장치 간 통신 (프레임 Frame) | MAC 주소, 이더넷/Wi-Fi 드라이버   |
| 1     | 물리 계층 (Physical)      | 전기적 신호 변환 (비트 Bit)     | UART/SPI의 하드웨어 칩, 물리적 매체 |

# 데이터 캡술화 (Encapsulation)의 마법
사용자가 이메일을 보낼 때(7계층), 이 데이터는 네트워크를 통과할 때마다 포장지(헤더)가 덧붙여짐.
1. 전송 계층 (TCP/UDP): 원본 데이터에 TCP 헤더를 붙임. (데이터가 유실되면 재전송할지, 연결 상태는 어떤지 등의 정보 추가) -> 세그먼트 (Segment)
2. 네트워크 계층 (IP): 세그먼트에 IP 헤더를 붙임. (출발지/목적지 IP 주소 정보 추가) -> 패킷 (Packet)
3. 데이터 링크 계층 (Ethernet/Wi-Fi): 패킷에 프레임 헤더를 붙임. (출발지/목적지 MAC 주소 정보 추가) -> 프레임(Frame)
이 프레임이 물리적 신호(0과 1)로 변환되어 통신선을 타고 전송됨.

# 통신 프로토콜의 양대 산맥: TCP vs UDP
전송 계층(4계층)은 데이터의 안정성을 결정함.

#### TCP (Transmission Control Protocol)
- 특징: 신뢰성 보장 (Connection-Oriented). 데이터를 보낼 때마다 상대방에게 **ACK(수신 확인)** 를 받음. 누락되거나 순서가 바뀌면 재전송하고 순서를 맞춰줌.
- 사용처: 웹 서핑(HTTP), 파일 전송(FTP), 이메일. (데이터 무결성이 중요할 때)

#### UDP (User Datagram Protocol)
- 특징: 속도 우선 (Connectionless). ACK 없이 일방적으로 데이터를 던짐. 유실되거나 순서가 바뀌어도 상관하지 않음.
- 사용처: 실시간 스트리밍(Video/Voice), 게임, DNS 조회, (지연(Latency)이 짧은 것이 중요할 때)
